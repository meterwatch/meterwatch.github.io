<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meter Watch Dashboard v8</title>
<style>
    :root {
        --background: 240 10% 93%;
        --foreground: 256 24% 28%;
        --card: 0 0% 100%;
        --card-foreground: 256 24% 28%;
        --primary: 14 72% 45%;
        --primary-foreground: 0 0% 100%;
        --secondary: 256 24% 28%;
        --secondary-foreground: 240 10% 93%;
        --muted: 240 5% 96%;
        --muted-foreground: 256 8% 38%;
        --accent: 14 72% 45%;
        --accent-foreground: 0 0% 100%;
        --radius: 0.5rem;
    }

    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: hsl(var(--background));
        color: hsl(var(--foreground));
        overflow-x: hidden;
    }

    .navbar {
        background-color: #3c3251;
        padding: 1rem 0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .navbar-container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
    }

    .logo {
        color: #ececf0;
        font-size: 1.5rem;
        font-weight: bold;
        text-decoration: none;
    }

    .nav-menu {
        display: flex;
        gap: 1rem;
    }

    .nav-item {
        color: #ececf0;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
    }

    .nav-item:hover {
        color: #c74e20;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    .hero {
        background-image: url('https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Screenshot%202024-11-07%20at%2008.32.22-gHLmZj4LagKl8fQuXNnj6YeBtZQz4V.png');
        background-size: cover;
        background-position: left center;
        color: #3c3251;
        text-align: right;
        padding: 100px 20px;
        position: relative;
        margin-bottom: 40px;
    }

    .hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(236, 236, 240, 0.7);
    }

    .hero-content {
        position: relative;
        z-index: 1;
        max-width: 600px;
        margin-left: auto;
    }

    .hero-content h1 {
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: #c74e20;
    }

    .hero-content p {
        font-size: 1.5rem;
        margin-bottom: 2rem;
        line-height: 1.4;
    }

    .search-container {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
    }

    .input {
        padding: 10px;
        font-size: 16px;
        border: 1px solid #3c3251;
        border-radius: var(--radius);
        width: 250px;
    }

    .button {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #c74e20;
        color: #ececf0;
        border: none;
        border-radius: var(--radius);
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .button:hover {
        background-color: #a03d18;
    }

    .chart-container {
        background-color: #ececf0;
        border-radius: var(--radius);
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .chart-row {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 20px;
    }

    .chart-col-4 {
        flex: 1;
        min-width: 300px;
        max-width: calc(33.333% - 10px);
    }

    .chart-col-8 {
        flex: 2;
        min-width: 300px;
        max-width: calc(66.666% - 10px);
    }

    .chart-wrapper {
        position: relative;
        height: 400px;
        width: 100%;
    }

    .chart-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 10px;
        color: #3c3251;
    }

    .disclaimer {
        font-size: 0.8rem;
        color: #3c3251;
        margin-top: 10px;
    }

    .button-container {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-top: 20px;
    }

    .branding {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        color: #666;
        margin-top: 20px;
    }

    @media (max-width: 1200px) {
        .chart-col-4,
        .chart-col-8 {
            max-width: 100%;
        }
    }

    @media (max-width: 768px) {
        .hero-content h1 {
            font-size: 2.5rem;
        }

        .hero-content p {
            font-size: 1.2rem;
        }

        .search-container {
            flex-direction: column;
            align-items: stretch;
        }

        .input {
            width: 100%;
        }

        .chart-row {
            flex-direction: column;
        }

        .chart-col-4,
        .chart-col-8 {
            flex: 1 1 100%;
        }

        .nav-menu {
            flex-direction: column;
            align-items: center;
        }

        .chart-wrapper {
            height: 300px;
        }
    }
</style>
</head>
<body>
<nav class="navbar">
    <div class="navbar-container">
        <a href="#" class="logo">Meter Watch</a>
        <div class="nav-menu">
            <a href="#" class="nav-item">Home</a>
            <a href="#" class="nav-item">About</a>
            <a href="#" class="nav-item">My Energy</a>
            <a href="#" class="nav-item">Dashboard</a>
        </div>
    </div>
</nav>

<div class="hero">
    <div class="hero-content">
        <h1>MOTIVATING</h1>
        <p>Encouraging us to do better, be more, be a better version of ourselves.</p>
        <div class="search-container">
            <input type="text" id="search-input" class="input" placeholder="Enter your account number">
            <button id="search-button" class="button">Search</button>
        </div>
    </div>
</div>

<div class="container">
    <div id="purchase-history-container" class="chart-container" style="display: none;">
        <div class="chart-title">Purchase History</div>
        <div class="chart-wrapper">
            <canvas id="purchase-history-chart"></canvas>
        </div>
        <div class="button-container">
            <button id="view-more-button" class="button">View More Details</button>
            <button id="hide-button" class="button">Hide</button>
        </div>
    </div>

    <div id="charts-container">
        <div class="chart-row">
            <div class="chart-col-4 chart-container">
                <div class="chart-title">Power Generation Stats Today</div>
                <div class="chart-wrapper">
                    <canvas id="power-generation-chart"></canvas>
                </div>
                <p class="disclaimer">Disclaimer: Source is ZPC Twitter</p>
            </div>
            <div class="chart-col-8 chart-container">
                <div class="chart-title">Loadshedding (Hours per Day)</div>
                <div class="chart-wrapper">
                    <canvas id="loadshedding-chart"></canvas>
                </div>
                <p class="disclaimer">Disclaimer: Data from 2 neighbourhoods</p>
            </div>
        </div>
        <div class="chart-container">
            <div class="chart-title">Time of Purchase vs Frequency: September 2024</div>
            <div class="chart-wrapper">
                <canvas id="purchase-frequency-chart"></canvas>
            </div>
            <div class="branding">
                <span>@blngazw</span>
                <span>myenergy.blnga.co.zw</span>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        createCharts();
        setupSearchFunction();
    });

    function setupSearchFunction() {
        const searchButton = document.getElementById('search-button');
        const purchaseHistoryContainer = document.getElementById('purchase-history-container');
        const viewMoreButton = document.getElementById('view-more-button');
        const hideButton = document.getElementById('hide-button');

        searchButton.addEventListener('click', () => {
            purchaseHistoryContainer.style.display = 'block';
            createPurchaseHistoryChart();
        });

        viewMoreButton.addEventListener('click', () => {
            alert('Viewing more details...');
            // Implement view more details functionality here
        });

        hideButton.addEventListener('click', () => {
            purchaseHistoryContainer.style.display = 'none';
        });
    }

    function createPurchaseHistoryChart() {
        const ctx = document.getElementById('purchase-history-chart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
                datasets: [{
                    label: 'Purchase Amount ($)',
                    data: [65, 59, 80, 81, 56],
                    backgroundColor: '#c74e20',
                    borderColor: '#3c3251',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Amount ($)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Month'
                        }
                    }
                }
            }
        });
    }

    function createCharts() {
        createPowerGenerationChart();
        createLoadshedingChart();
        createPurchaseFrequencyChart();
    }

    function createPowerGenerationChart() {
        const ctx = document.getElementById('power-generation-chart').getContext('2d');
        new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['Hwange', 'Kariba', 'IPP'],
                datasets: [{
                    data: [1094, 215, 43],
                    backgroundColor: ['#c74e20', '#3c3251', '#ececf0']
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                    title: {
                        display: true,
                        text: 'Power Generation (MW)'
                    }
                }
            }
        });
    }

    function createLoadshedingChart() {
        const ctx = document.getElementById('loadshedding-chart').getContext('2d');
        const data = [16.57, 16.07, 16.00, 13.12, 15.35, 16.57, 13.88, 16.77, 18.33, 15.83, 16.58, 14.70, 15.45, 14.17, 16.12, 16.48, 16.67, 16.77];
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31'],
                datasets: [{
                    label: 'Hours Off',
                    data: data,
                    backgroundColor: '#c74e20',
                    borderColor: '#3c3251',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Hours'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Date'
                        }
                    }
                }
            }
        });
    }

    function createPurchaseFrequencyChart() {
        const purchaseData = [
            { hour: "00", purchases: 5.0 },
            { hour: "01", purchases: 2.0 },
            { hour: "02", purchases: 2.0 },
            { hour: "03", purchases: 1.0 },
            { hour: "04", purchases: 1.0 },
            { hour: "05", purchases: 4.0 },
            { hour: "06", purchases: 6.0 },
            { hour: "07", purchases: 11.0 },
            { hour: "08", purchases: 5.0 },
            { hour: "09", purchases: 8.0 },
            { hour: "10", purchases: 9.0 },
            { hour: "11", purchases: 13.0 },
            { hour: "12", purchases: 8.0 },
            { hour: "13", purchases: 9.0 },
            { hour: "14", purchases: 10.0 },
            { hour: "15", purchases: 10.0 },
            { hour: "16", purchases: 9.0 },
            { hour: "17", purchases: 13.0 },
            { hour: "18", purchases: 12.0 },
            { hour: "19", purchases: 15.0 },
            { hour: "20", purchases: 13.0 },
            { hour: "21", purchases: 6.0 },
            { hour: "22", purchases: 2.0 },
            { hour: "23", purchases: 1.0 }
        ];

        const ctx = document.getElementById('purchase-frequency-chart').getContext('2d');
        const currentHour = new Date().getHours();

        new Chart(ctx, {
            type: 'line',
            data: {
                labels: purchaseData.map(d => d.hour),
                datasets: [
                    {
                        label: 'Purchases',
                        data: purchaseData.map(d => d.purchases),
                        fill: true,
                        backgroundColor: 'rgba(199, 78, 32, 0.2)',
                        borderColor: 'rgba(199, 78, 32, 1)',
                        tension: 0.4,
                        pointRadius: 0
                    },
                    {
                        label: 'Current Time',
                        data: purchaseData.map((d, i) => i === currentHour ? 16 : null),
                        borderColor: 'rgba(199, 78, 32, 1)',
                        borderWidth: 2,
                        pointRadius: 0,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Time (24-hour notation)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Frequency of Token purchases'
                        },
                        suggestedMin: 0,
                        suggestedMax: 16
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false
                    }
                }
            }
        });
    }
</script>
</body>
</html>